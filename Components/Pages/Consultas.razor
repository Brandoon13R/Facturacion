@page "/consultas"
@using Facturación.Components.Data
@using System.Globalization
@inject Facturación.Components.Controlador.ServicioControlador ControladorFacturas
<head>
    <link href="~/css/Consultas.css" rel="stylesheet" />
</head>

<body>
    <h1 class="titulo">Consultas</h1>

    <div class="menu">
        <a href="/">
            <button class="text">Interfaz</button>
        </a>
    </div>

    <div class="texto-siu">
    <p>Precios mayores a $10,000</p>
        <ul class="Justificado">
            @foreach (var cliente in facturasCaras)
            {
                <li>
                    <td>@cliente</td>
                </li>
            }
        </ul>
    </div>


    <div class="texto-siu">
    <p>Precios entre $5,000 y $7,000</p>
        <ul class="Justificado">
            @foreach (var cliente in preciosIntermedios)
            {
                <li>
                    @cliente
                </li>
            }
        </ul>
    </div>


    <div class="texto-siu">
    <p>Fechas de facturas emitidas en 2025-10-01 al 2025-12-31</p>
        <ul class="Justificado">
            @foreach (var Clientes in fechasFacturas)
            {
                <li>
                    @Clientes
                </li>
            }
        </ul>
    </div>


    <div class="texto-siu">
    <p>Mes con mas ventas</p>
        <ul class="Justificado">
            @foreach (var Clientes in mesMayorVentas)
            {
                <li>
                    @Clientes
                </li>
            }
        </ul>
    </div>


    <div class="texto-siu">
    <p>Articulo Mas Vendido</p>
        <ul class="Justificado">
            @foreach (var clientes in articuloMasVendido)
            {
                <li>
                    @clientes
                </li>
            }
        </ul>
    </div>

</body>


@code {
    private List<string> facturasCaras = new();
    private List<string> preciosIntermedios = new();
    private List<string> fechasFacturas = new();
    private List<string> mesMayorVentas = new();
    private List<string> articuloMasVendido = new();

    protected override async Task OnInitializedAsync()
    {
        facturasCaras = await ControladorFacturas.FacturasCaras();
        preciosIntermedios = await ControladorFacturas.PrecioIntermedio();
        fechasFacturas = await ControladorFacturas.FechasFacturas();
        mesMayorVentas = await ControladorFacturas.MesMayorVentas();
        articuloMasVendido = await ControladorFacturas.ArticuloMasVendido();
    }
}